<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"/>
    <script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js" crossorigin="anonymous" referrerpolicy="no-referrer" ></script>
    <title>Maunga Club</title>
</head>
<body>
    <header>
        <section id="header-stay">
            <a href="index.html"><img class="logo" src="img/Maunga_Club_white.png" /></a>
            <nav>
                <ul> <!--<ul> and <li> tags adding during Section 3.1-->
                    <li><a href="index.html">HOME</a></li>
                    <li><a href="index.html">KAKAPO</a></li>
                    <li><a href="index.html">PUKEKO</a></li>
                    <li><a href="index.html">KERERU</a></li>
                    <li><a href="index.html">BOOK</a></li>
                    <li><a href="index.html">MEMBERSHIP</a></li>
                    <li><a href="index.html">CONTACT US</a></li>
                </ul>
            </nav>
        </section>
    </header>
    <div class="form">
        <section id="form">
            <form action="reservation.php" method="post">
                <div class="elem-group">
                    <label for="name">Your Name</label>
                    <input
                    type="text"
                    id="name"
                    name="visitor name"
                    placeholder="Full Name"
                    pattern="/^[a-z ,.'-]+$/i"
                    required
                    />
                </div> 
                <div class="elem-group">
                    <label for="email">Your E-mail</label> 
                    <input
                        type="email" 
                        id="email" 
                        name="visitor_email" 
                        placeholder="youremail@email.com"       
                        required
                    />
                </div> 
                <div class="elem-group">
                    <label for="phone">Your phone</label>
                    <input
                        type="tel"
                        id="phone"
                        name="visitor_phone"
                        placeholder="123-456-7890"
                        pattern="(\d{3})-?\s?(\d{3})-?\s?(\d{4})"
                        required
                    />
                </div> 
                <div class="elem-group inlined"> 
                    <label for="adult">Adults</label>
                    <input
                        type="number"
                        id="adult"
                        name="total adults" 
                        placeholder="1-10"
                        min="1"
                        max="10"
                        required
                    />
                </div>
                <div class="elem-group inlined">
                    <div class="elem-group inlined">
                        <label for="child">Children</label>
                        <input
                            type="number"
                            id="child"
                            name="total_children"
                            placeholder="0-30"
                            min="0"
                            max="30"
                            required
                        />
                    </div>
                    <div class="elem-group inlined">
                        <div class="elem-group inlined">                
                            <label for="checkin-date">Checkin date</label>
                            <input 
                                type="date" 
                                id="checkin-date" 
                                name="checkin-date"
                                required
                            />
                            <script>
                            const validate = dateString => {
                                const day = (new Date(dateString)).getDay();
                                if (day==0 || day==1 || day==2 || day==3 || day==4 || day==6) {
                                    return false;
                                }
                                return true;
                            }

                            // Sets the value to '' in case of an invalid date
                            document.querySelector('#checkin-date').onchange = evt => {
                                if (!validate(evt.target.value)) {
                                    evt.target.value = '';
                                }
                            }
                            </script>
                        </div> 
                        <div class="elem-group inlined">                
                            <label for="checkout-date">Checkout date</label>
                            <input type="date" step="" id="checkout-date" name="checkout-date" required>
                            <script>
                            const validateo = dateStringo => {
                                const dayo = (new Date(dateStringo)).getDay();
                                if (dayo==1 || dayo==2 || dayo==3 || dayo==4 || dayo==5 || dayo==6) {
                                    return false;
                                }
                                return true;
                            }

                            // Sets the value to '' in case of an invalid date
                            document.querySelector('#checkout-date').onchange = evt => {
                                if (!validateo(evt.target.value)) {
                                    evt.target.value = '';
                                }
                            }
                            </script>
                        </div> 
                    </div> 
                    <div class="elem-group"> 
                        <label for="room-selection">
                            Select where you would like to stay
                        </label>
                        <select id="room-selection" name="room_preference" required>
                            <option value="kakapo">Kakapo</option>
                            <option value="pukeko">Pukeko</option>
                            <option value="kereru">Kereru</option>
                        </select>
                    </div>
                    <input type="submit" class="fadeIn fourth" id="submit" onclick="link_data" value="Log In" />
                    <script>
                    function link_data() {
                        // Send data
                        window.location.href = "bookc.html"; // This will change the page location to main.jsp
                    }
                    </script>
                </div>
            </form>  
        </section>
    </div>
</body>
</html>